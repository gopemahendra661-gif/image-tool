<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Mobile Image Tool</title>
<style>
  * {box-sizing: border-box;}
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0; padding: 0;
    display: flex; flex-direction: column; align-items: center;
    min-height: 100vh;
    transition: background 0.3s, color 0.3s;
  }
  body.light { background: #f4f4f9; color: #111; }
  body.dark { background: linear-gradient(135deg,#141E30,#243B55); color: #fff; }

  h1 { margin-top: 20px; font-size: 2rem; text-align: center; }
  .tool-card {
    backdrop-filter: blur(10px);
    padding: 25px;
    margin: 20px;
    border-radius: 20px;
    width: 90%; max-width: 700px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    display: flex; flex-direction: column; align-items: center;
    transition: background 0.3s;
  }
  .tool-card.light { background: rgba(255,255,255,0.8); color: #111; }
  .tool-card.dark { background: rgba(255,255,255,0.1); color: #fff; }

  .file-input-wrapper {
    display: flex; flex-direction: column; align-items: center; width: 100%;
  }
  input[type="file"] {
    margin-bottom: 5px; padding: 10px 14px;
    border-radius: 8px; border: none;
    background: #1e88e5; color: #fff; cursor: pointer;
    width: 100%; max-width: 300px; text-overflow: ellipsis;
    overflow: hidden; white-space: nowrap;
  }
  .file-name {
    max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
    font-size: 0.9rem; margin-bottom: 10px;
  }
  input[type="number"] { width: 70px; text-align: center; margin: 5px; }
  button {
    margin: 8px; padding: 10px 14px; border: none; border-radius: 8px;
    background: #00c6ff; color: #fff; cursor: pointer; transition: 0.3s;
  }
  button:hover { background: #0091c7; }
  canvas { border: 2px solid #00bcd4; border-radius: 10px; margin-top: 15px; max-width: 100%; height: auto; }
  #preview { margin-top: 15px; display: none; width: 100%; text-align: center; }
  img.preview-img { max-width: 100%; border-radius: 12px; margin-top: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.4); }

  .theme-toggle {
    margin-top: 10px; padding: 6px 12px; border-radius: 8px; background: #ffb74d; color: #111;
    cursor: pointer;
  }
  footer { text-align: center; font-size: 0.9rem; opacity: 0.7; margin-bottom: 10px; }
</style> <script type='text/javascript' src='//pl27868016.effectivegatecpm.com/27/37/23/273723de60b5655e5b95db0cd9e707ac.js'></script>
</head>
<body class="dark">

<h1>üñºÔ∏è Modern Mobile Image Tool</h1>

<div class="tool-card dark" id="toolCard">
  <div class="file-input-wrapper">
    <input type="file" id="fileInput" accept="image/*">
    <div id="fileName" class="file-name">‡§ï‡•ã‡§à ‡§á‡§Æ‡•á‡§ú ‡§®‡§π‡•Ä‡§Ç ‡§ö‡•Å‡§®‡•Ä</div>
  </div>
  <div>
    <label>W: <input type="number" id="width" value="400"></label>
    <label>H: <input type="number" id="height" value="400"></label>
    <label>Q: <input type="number" id="quality" value="0.8" step="0.1"></label>
  </div>
  <div>
    <button onclick="resizeAndCompress()">Resize + Compress</button>
    <button onclick="enableCrop()">Crop</button>
    <button onclick="downloadImage()">Download</button>
  </div>
  <canvas id="canvas"></canvas>
  <div id="preview">
    <h3>Preview</h3>
    <img id="outputImg" class="preview-img" src="">
  </div> <script async="async" data-cfasync="false" src="//pl27867997.effectivegatecpm.com/a73801540e23b96ae309740f81379ab3/invoke.js"></script>
<div id="container-a73801540e23b96ae309740f81379ab3"></div>
  <button class="theme-toggle" onclick="toggleTheme()">Toggle Light/Dark Theme</button>
</div>
  <script type="text/javascript">
	atOptions = {
		'key' : '12ca0c3846356d8e85fc3f545083b8bc',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/12ca0c3846356d8e85fc3f545083b8bc/invoke.js"></script>
<footer>¬© 2025 ImageTool by Mahendra üöÄ</footer>

<script>
const body = document.body;
const toolCard = document.getElementById('toolCard');
const fileInput = document.getElementById('fileInput');
const fileNameDisplay = document.getElementById('fileName');
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const preview = document.getElementById('preview');
const outputImg = document.getElementById('outputImg');

let image = new Image();
let cropMode = false, startX, startY, endX, endY, isDragging = false;

fileInput.addEventListener('change', e => {
  const file = e.target.files[0];
  if(!file) return;
  fileNameDisplay.textContent = file.name;
  const reader = new FileReader();
  reader.onload = () => { image.onload = () => drawImageToCanvas(image); image.src = reader.result; };
  reader.readAsDataURL(file);
});

function drawImageToCanvas(img) {
  const maxWidth = window.innerWidth * 0.9;
  const scale = Math.min(maxWidth / img.width, 1);
  const newWidth = img.width * scale;
  const newHeight = img.height * scale;
  canvas.width = newWidth; canvas.height = newHeight;
  ctx.drawImage(img, 0, 0, newWidth, newHeight);
}

function resizeAndCompress() {
  if(!image.src) return alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§á‡§Æ‡•á‡§ú ‡§ö‡•Å‡§®‡•á‡§Ç!");
  const w = parseInt(width.value), h = parseInt(height.value), q = parseFloat(quality.value);
  canvas.width = w; canvas.height = h;
  ctx.drawImage(image, 0, 0, w, h);
  const compressed = canvas.toDataURL("image/jpeg", q);
  outputImg.src = compressed; preview.style.display = "block";
}

function enableCrop() {
  cropMode = true; alert("Crop ‡§Æ‡•ã‡§° ‡§ö‡§æ‡§≤‡•Ç ‡§π‡•à ‚Äî ‡§Æ‡§æ‡§â‡§∏/‡§ü‡§ö ‡§∏‡•á ‡§ñ‡•Ä‡§Ç‡§ö‡§ï‡§∞ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç");
}

canvas.addEventListener('mousedown', e => { if(!cropMode) return; const rect = canvas.getBoundingClientRect(); startX=e.clientX-rect.left; startY=e.clientY-rect.top; isDragging=true; });
canvas.addEventListener('mousemove', e => { if(!isDragging||!cropMode) return; const rect = canvas.getBoundingClientRect(); endX=e.clientX-rect.left; endY=e.clientY-rect.top; ctx.clearRect(0,0,canvas.width,canvas.height); drawImageToCanvas(image); ctx.strokeStyle="#00e5ff"; ctx.lineWidth=2; ctx.strokeRect(startX,startY,endX-startX,endY-startY); });
canvas.addEventListener('mouseup', () => { if(!cropMode) return; isDragging=false; cropMode=false; const cropW=endX-startX, cropH=endY-startY; const croppedData=ctx.getImageData(startX,startY,cropW,cropH); canvas.width=cropW; canvas.height=cropH; ctx.putImageData(croppedData,0,0); outputImg.src=canvas.toDataURL("image/jpeg",1.0); preview.style.display="block"; });

function downloadImage() {
  if(!outputImg.src) return alert("‡§™‡§π‡§≤‡•á ‡§ï‡•ã‡§à ‡§á‡§Æ‡•á‡§ú ‡§è‡§°‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç!");
  const a=document.createElement('a'); a.href=outputImg.src; a.download='edited-image.jpg'; a.click();
}

function toggleTheme() {
  if(body.classList.contains('dark')) { body.classList.replace('dark','light'); toolCard.classList.replace('dark','light'); }
  else { body.classList.replace('light','dark'); toolCard.classList.replace('light','dark'); }
}

</body>
</html>


